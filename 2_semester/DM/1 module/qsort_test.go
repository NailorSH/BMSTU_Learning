package main

import "testing"

var items = []int {
	  847,   939,   773,   748,   765,   796,   846,   925,   842,   880,
	  916,   932,   967,   759,   783,   989,   975,   854,   949,   975,
	  861,   900,   826,   834,   882,   869,   812,   748,   959,   865,
	  892,   932,   804,   737,   747,   829,   766,   959,   868,   823,
	  819,   837,   837,   940,   766,   985,   876,   790,   727,   755,
	  907,
}

var expected = []int {
	  727,   737,   747,   748,   748,   755,   759,   765,   766,   766,
	  773,   783,   790,   796,   804,   812,   819,   823,   826,   829,
	  834,   837,   837,   842,   846,   847,   854,   861,   865,   868,
	  869,   876,   880,   882,   892,   900,   907,   916,   925,   932,
	  932,   939,   940,   949,   959,   959,   967,   975,   975,   985,
	  989,
}

func TestQsort(t *testing.T) {
	qsort(51,
		func (i, j int) bool {
			return items[i] < items[j]
		},
		func (i, j int) {
			items[i], items[j] = items[j], items[i]
		})

	for i := 0; i < 51; i++ {
		if items[i] != expected[i] {
			t.Errorf("items[%d] (%d) != expected[%d] (%d)", i, items[i], i, expected[i])
		}
	}
}
